extends ../layout

block content
  //
     BEGIN PAGE HEADER
  h3.page-title
    | DJ's
  .page-bar
    ul.page-breadcrumb
      li
        i.fa.fa-home
        a(href='/venue/clubs') DJ's
  //
     END PAGE HEADER
  //
     BEGIN PAGE CONTENT
  .row
    .col-md-12
      table#djs.table.table-bordered.table-striped.table-condensed.flip-content
        thead.flip-content
          tr
            th(width='20%')
              | Avatar
            th
              | Title
            th
              | Phone
            th
              | Email
            th
        tbody
          for dj in djs
            tr
              td(style="vertical-align: middle;")
                if dj.dj_logo
                  img(src='#{dj.dj_logo}', alt='#{dj.dj_name}', height="50")
              td(style="vertical-align: middle;")
                | #{dj.dj_name} 
              td(style="vertical-align: middle;")
                | #{dj.dj_phone} 
              td(style="vertical-align: middle;")
                | #{dj.dj_email} 
              td(style="vertical-align: middle;")
                a.edit-btn.btn.default.yellow(href='/venue/dj_edit/#{dj._id}', style="margin:3px")
                  i.fa.fa-edit
                    &nbsp;
                    | edit
                a.btn.default.black(href='/venue/dj_delete/#{dj._id}', style="margin:3px", onclick="return confirm('Are you sure you want to delete DJ?')")
                  i.fa.fa-edit
                    &nbsp;
                    | delete
                a.btn.default.blue(href='/venue/dj/news/#{dj._id}', style="margin:3px")
                    i.fa.fa-book
                      &nbsp;
                      | news
                a.btn.default.green(href='/venue/dj/events/#{dj._id}', style="margin:3px")
                    i.fa.fa-book
                      &nbsp;
                      | events

      div
        a.btn.btn-primary(href="/venue/dj_create") Add DJ


  //
     END PAGE CONTENT
//
 END CONTENT

block scripts

  script(src='/assets/global/plugins/jquery.sparkline.min.js', type='text/javascript')
  script(src='/assets/global/plugins/gritter/js/jquery.gritter.js', type='text/javascript')

  script(src="/assets/global/plugins/datatables/media/js/jquery.dataTables.min.js", type="text/javascript")
  script(src="/assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js",type="text/javascript")


  script(type="text/javascript")
    $(function () {

      var table = $('#djs');
      table.dataTable({
          "bStateSave": true, // save datatable state(pagination, sort, etc) in cookie.

          "lengthMenu": [
              [10, 20, 50, -1],
              [10, 20, 50, "All"] // change per page values here
          ],
          "iDisplayLength": 20,
          // set the initial value
          "pageLength": 20,
          "language": {
              "lengthMenu": " _MENU_ records",
              "paging": {
                  "previous": "Prev",
                  "next": "Next"
              }
          },
          "order": [
              [1, "asc"]
          ] // set first column as a default sort by asc
      });
    });
